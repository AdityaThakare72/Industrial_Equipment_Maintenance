schema: '2.0'
stages:
  ingest:
    cmd: python industrial_maintenance/dataset.py
    deps:
    - path: data/raw/industrial_equipment_anomaly_data.csv
      hash: md5
      md5: f2de6b4311ef301d2f2188ccb162ae42
      size: 733715
    - path: industrial_maintenance/dataset.py
      hash: md5
      md5: acc2f89f59cd2e38a9856c0d82fb10da
      size: 1684
    outs:
    - path: data/interim/cleaned_data.csv
      hash: md5
      md5: 535fff8e890455a8a280c5adb5c830ce
      size: 707404
  featurize:
    cmd: python industrial_maintenance/features.py
    deps:
    - path: data/interim/cleaned_data.csv
      hash: md5
      md5: 535fff8e890455a8a280c5adb5c830ce
      size: 707404
    - path: industrial_maintenance/features.py
      hash: md5
      md5: 46a816c8184138a76ab737f7371f2f0d
      size: 2324
    outs:
    - path: data/processed/featured_data.csv
      hash: md5
      md5: 66e5766101e47d812386bcb47c92460d
      size: 866824
    - path: models/preprocessor.joblib
      hash: md5
      md5: e32e273aef2bb118a26feba180030f57
      size: 3105
  train:
    cmd: python industrial_maintenance/modeling/train.py
    deps:
    - path: data/processed/featured_data.csv
      hash: md5
      md5: 66e5766101e47d812386bcb47c92460d
      size: 866824
    - path: industrial_maintenance/modeling/train.py
      hash: md5
      md5: 7cc0491f75a1eb343fe64a4a6e63ec22
      size: 2716
    params:
      params.yaml:
        model_type: xgboost
        random_forest:
          param_grid:
            n_estimators:
            - 100
            - 200
            max_depth:
            - 5
            - 10
            - 
            min_samples_split:
            - 2
            - 5
        train:
          cv_folds: 5
          random_state: 42
        xgboost:
          param_grid:
            n_estimators:
            - 100
            - 200
            max_depth:
            - 3
            - 6
            - 9
            learning_rate:
            - 0.01
            - 0.1
            subsample:
            - 0.8
            - 1.0
    outs:
    - path: models/model.joblib
      hash: md5
      md5: c24b79921c6b4acedb31a7e3d1ccdcf5
      size: 466839
